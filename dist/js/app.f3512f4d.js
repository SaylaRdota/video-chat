(function(e){function t(t){for(var n,r,u=t[0],s=t[1],c=t[2],l=0,m=[];l<u.length;l++)r=u[l],a[r]&&m.push(a[r][0]),a[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);f&&f(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],n=!0,r=1;r<o.length;r++){var u=o[r];0!==a[u]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=o[0]))}return e}var n={},r={app:0},a={app:0},i=[];function u(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"8d205628"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.e=function(e){var t=[],o={about:1};r[e]?t.push(r[e]):0!==r[e]&&o[e]&&t.push(r[e]=new Promise(function(t,o){for(var n="css/"+({about:"about"}[e]||e)+"."+{about:"66f0f493"}[e]+".css",a=s.p+n,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var c=i[u],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===n||l===a))return t()}var m=document.getElementsByTagName("style");for(u=0;u<m.length;u++){c=m[u],l=c.getAttribute("data-href");if(l===n||l===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var n=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");i.request=n,delete r[e],f.parentNode.removeChild(f),o(i)},f.href=a;var d=document.getElementsByTagName("head")[0];d.appendChild(f)}).then(function(){r[e]=0}));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise(function(t,o){n=a[e]=[t,o]});t.push(n[2]=i);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=u(e),c=function(t){l.onerror=l.onload=null,clearTimeout(m);var o=a[e];if(0!==o){if(o){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+n+": "+r+")");i.type=n,i.request=r,o[1](i)}a[e]=void 0}};var m=setTimeout(function(){c({type:"timeout",target:l})},12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(o,n,function(t){return e[t]}.bind(null,n));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var m=0;m<c.length;m++)t(c[m]);var f=l;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"01ea":function(e,t,o){"use strict";o.d(t,"d",function(){return n}),o.d(t,"b",function(){return r}),o.d(t,"c",function(){return a}),o.d(t,"a",function(){return i});o("cadf"),o("551c"),o("097d");var n="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SOCKET_HOST||"localhost",":").concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SOCKET_PORT||"3000"),r={joinRoom:"joinRoom",setRooms:"setRooms",changeRoom:"changeRoom",leaveChat:"leaveChat",changeStatus:"changeStatus"},a={joinPrivateRoom:"joinPrivateRoom",joinRoom:"joinRoom",leaveRoom:"leaveRoom",publicMessage:"publicMessage",leavePrivateRoom:"leavePrivateRoom",leaveChat:"leaveChat",changeStatus:"changeStatus",privateMessage:"privateMessage"},i={available:"available",absent:"absent",unavailable:"unavailable"}},1:function(e,t){},"21bb":function(e,t,o){"use strict";var n=o("bcc9"),r=o.n(n);r.a},"56d7":function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("097d");var n=o("2b0e"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},a=[],i=(o("5c0b"),o("2877")),u={},s=Object(i["a"])(u,r,a,!1,null,null,null);s.options.__file="App.vue";var c=s.exports,l=o("8c4f"),m=o("43f9"),f=o.n(m),d=(o("51de"),o("e094"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"options"},[o("h2",[e._v("VIDEO CHAT")]),o("div",[o("form",{staticClass:"md-layout",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[o("md-field",[o("label",[e._v("Username")]),o("md-input",{attrs:{type:"string",id:"username"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),o("md-field",[o("label",{attrs:{for:"movie"}},[e._v("Room")]),o("md-select",{attrs:{name:"room",id:"room"},model:{value:e.room,callback:function(t){e.room=t},expression:"room"}},e._l(e.rooms,function(t){return o("md-option",{key:t.id,attrs:{value:t.name}},[e._v(e._s(t.name)+"\n          ")])}),1)],1),e.error?o("div",{staticClass:"options-error"},[o("p",[e._v(e._s(e.error))])]):e._e(),o("div",{staticClass:"options__submit"},[o("md-button",{staticClass:"md-raised md-primary",attrs:{type:"submit",disabled:!(e.username&&e.room)}},[e._v("JOIN\n        ")])],1)],1)])])}),v=[],p=(o("96cf"),o("3b8d")),h=o("01ea"),b={name:"home",data:function(){return{username:void 0,room:void 0,rooms:[],error:void 0,defaultError:"Something went wrong"}},created:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$http.get("http://".concat(h["d"],"/rooms"));case 3:t=e.sent,this.rooms=t.body,this.$store.dispatch(h["b"].setRooms,this.rooms),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),this.error=this.defaultError,console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));function t(){return e.apply(this,arguments)}return t}(),methods:{submitForm:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){var t,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.username&&this.room){e.next=2;break}return e.abrupt("return");case 2:return this.error=void 0,t={room:this.room,username:this.username},e.prev=4,e.next=7,this.$http.post("http://".concat(h["d"],"/auth/login"),t);case 7:if(o=e.sent,400!==o.body.code&&401!==o.body.code&&500!==o.body.code){e.next=11;break}return this.error=o.body.message,e.abrupt("return");case 11:this.$store.dispatch(h["b"].joinRoom,t),this.$router.push("/chat"),e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](4),this.error=this.defaultError,console.log(e.t0);case 19:case"end":return e.stop()}},e,this,[[4,15]])}));function t(){return e.apply(this,arguments)}return t}()}},g=b,y=(o("21bb"),Object(i["a"])(g,d,v,!1,null,null,null));y.options.__file="Home.vue";var _=y.exports,R=o("2f62");n["default"].use(R["a"]);var w=new R["a"].Store({state:{room:void 0,username:void 0,status:h["a"].available,rooms:[]},mutations:{joinRoom:function(e,t){var o=t.room,n=t.username;e.room=o,e.username=n},changeRoom:function(e,t){e.room=t},setRooms:function(e,t){e.rooms=t},leaveChat:function(e){e.room=void 0,e.username=void 0},changeStatus:function(e){var t;e.status===h["a"].available&&(t=h["a"].absent),e.status===h["a"].absent&&(t=h["a"].unavailable),e.status===h["a"].unavailable&&(t=h["a"].available),e.status=t}},actions:{joinRoom:function(e,t){var o=e.commit;o("joinRoom",t)},changeRoom:function(e,t){var o=e.commit;o("changeRoom",t)},setRooms:function(e,t){var o=e.commit;o("setRooms",t)},leaveChat:function(e){var t=e.commit;t("leaveChat")},changeStatus:function(e){var t=e.commit;t("changeStatus")}}});n["default"].use(f.a),n["default"].use(l["a"]);var E=new l["a"]({routes:[{path:"/",name:"home",component:_,beforeEnter:function(e,t,o){w.state.room&&w.state.username?o("/chat"):o()}},{path:"/chat",name:"chat",component:function(){return o.e("about").then(o.bind(null,"293a"))},beforeEnter:function(e,t,o){w.state.room||w.state.username?o():o("/")}}]}),j=o("5132"),O=o.n(j),S=o("28dd");o("a1a3");n["default"].use(new O.a({debug:!0,connection:"".concat(h["d"],"/video-chat"),vuex:{store:w,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),n["default"].use(S["a"]),n["default"].config.productionTip=!1,new n["default"]({router:E,store:w,render:function(e){return e(c)}}).$mount("#app")},"5c0b":function(e,t,o){"use strict";var n=o("5e27"),r=o.n(n);r.a},"5e27":function(e,t,o){},a1a3:function(e,t,o){},bcc9:function(e,t,o){}});